<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of Quadcopter</title>
  <meta name="keywords" content="Quadcopter">
  <meta name="description" content="% Example - Quadcopter">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- menu.html examples -->
<h1>Quadcopter
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>% Example - Quadcopter</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment">% Example - Quadcopter
 Elis Stefansson, Nov 10 2015</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">%% Example - Quadcopter</span>
0002 <span class="comment">% Elis Stefansson, Nov 10 2015</span>
0003 
0004 <span class="comment">% The following example is taken from the paper:</span>
0005 <span class="comment">% Linear Hamilton-Jacobi-Bellan Equations in High Dimensions</span>
0006 <span class="comment">% by Matanya B. Horowitz et al.</span>
0007 
0008 <span class="comment">% The states are:</span>
0009 <span class="comment">% [dx, dy, dz, dpsi, dth, dphi, x, y, z, psi, th, phi]</span>
0010 <span class="comment">%  1   2   3   4     5    6     7  8  9  10   11  12</span>
0011 
0012 <span class="comment">%% setup</span>
0013 
0014 <span class="comment">% 1. domain</span>
0015 d = 12;
0016 x = sym(<span class="string">'x'</span>,[d,1]); <span class="comment">%do not change</span>
0017 n = 100;
0018 bdim = [-8 8 ; -8 8; -8 8; -10*pi 10*pi; -10*pi 10*pi; -10*pi 10*pi; -1 1; -1 1; -1 1; -pi pi; -pi pi; -pi pi];
0019 
0020 <span class="comment">% help function for boundary x = 1</span>
0021 bcon_x = (1-x(1)^2/8^2)*(1-x(2)^2/8^2)*(1-x(3)^2/8^2)*(1-x(4)^2/(10*pi)^2)*(1-x(5)^2/(10*pi)^2)*(1-x(6)^2/(10*pi)^2)*(1-x(8)^2)*(1-x(9)^2)*(1-x(10)^2/pi^2)*(1-x(11)^2/pi^2)*(1-x(12)^2/pi^2);
0022 
0023 bcon = { {<span class="string">'d'</span>,0,0} , {<span class="string">'d'</span>,0,0} , {<span class="string">'d'</span>,0,0} , {<span class="string">'d'</span>,0,0} , {<span class="string">'d'</span>,0,0} , {<span class="string">'d'</span>,0,0} , {<span class="string">'d'</span>,0,bcon_x} , {<span class="string">'d'</span>,0,0} , {<span class="string">'d'</span>,0,0} , {<span class="string">'p'</span>} , {<span class="string">'p'</span>} , {<span class="string">'p'</span>} };
0024 
0025 bsca = []; <span class="comment">%no manual scaling</span>
0026 region = []; <span class="comment">%no goal region</span>
0027 regval = [];
0028 regsca = [];
0029 sca_ver = 1; <span class="comment">%first scaling version</span>
0030 ord_of_acc = 2; <span class="comment">%since als error probably is dominant</span>
0031 
0032 <span class="comment">% 2. dynamics</span>
0033 g = 9.8;
0034 f = [0; 0; -g; 0; 0; 0; x(1); x(2); x(3); x(4); x(5); x(6)];
0035 
0036 <span class="comment">%help functions for G</span>
0037 hf1 = sin(x(12))*sin(x(10))+cos(x(12))*cos(x(10))*sin(x(11));
0038 hf2 = cos(x(12))*sin(x(11))*sin(x(10))-cos(x(10))*sin(x(12));
0039 hf3 = cos(x(11))*cos(x(12));
0040 
0041 G = [hf1 0 0 0; hf2 0 0 0; hf3 0 0 0; <span class="keyword">...</span>
0042     0 1 0 0; 0 0 1 0; 0 0 0 1; <span class="keyword">...</span>
0043     0 0 0 0; 0 0 0 0; 0 0 0 0; <span class="keyword">...</span>
0044     0 0 0 0; 0 0 0 0; 0 0 0 0];
0045 
0046 B = G;
0047 noise_cov = 1;
0048 q = 1;
0049 R = 1;
0050 lambda = noise_cov*R;
0051 
0052 <span class="comment">% 3. artificial diffusion, compress operator and solve als</span>
0053 artdiff_option = {1,<span class="string">'needed'</span>,1};
0054 tol_err_op = 1e-5;
0055 comp_options = [];
0056 tol_err = 1e-9;
0057 als_options = [];
0058 als_variant = {10,50};
0059 debugging = 0;
0060 
0061 <span class="comment">% 4. visualize result, run simulation</span>
0062 saveplots = 1;
0063 savedata = 1;
0064 sim_config = {5,0.005,[0;0;0; 0;0;0; 0;0;0; 0.1;0.1;0.1],[],[]};
0065 
0066 <span class="comment">% 5. run index</span>
0067 run = 1;</pre></div>
<hr><address>Generated on Fri 12-Jan-2018 11:28:53 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2005</address>
</body>
</html>